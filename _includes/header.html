<span class="mobile btn-mobile-menu">
  <i class="icon icon-list btn-mobile-menu__icon"></i>
  <i class="icon icon-x-circle btn-mobile-close__icon hidden"></i>
</span>

<!-- <header class="panel-cover" style="background-image: url({{ "images/cover.jpg" | prepend: site.baseurl }})"> -->
<header class="panel-cover">
  <div class="panel-main">

    <div class="panel-main__inner panel-inverted" id="topmost-layer">
    <div class="panel-main__content">
        <a href="{{ site.baseurl }}" title="link to home of {{ site.title }}">
          <img src="{{ "images/profile.png" | prepend: site.baseurl }}" class="user-image" alt="My Profile Photo">
          <h1 class="panel-cover__title panel-title">{{ site.title }}</h1>
        </a>
        <hr class="panel-cover__divider">
        <p class="panel-cover__description">{{ site.description }}</p>
        <hr class="panel-cover__divider panel-cover__divider--secondary">

        <div class="navigation-wrapper">

          <nav class="cover-navigation cover-navigation--primary">
            <ul class="navigation">
              <li class="navigation__item"><a href="{{ site.baseurl }}#blog" title="link to {{ site.title }} blog" class="blog-button">Blog</a></li>
              <li class="navigation__item"><a href="{{ site.baseurl }}about" title="about">About</a></li>
            </ul>
          </nav>

          <nav class="cover-navigation navigation--social">
            <ul class="navigation">

            {% if site.author.twitter_username %}
              <!-- Twitter -->
              <li class="navigation__item">
                <a href="http://twitter.com/{{ site.author.twitter_username }}" title="@{{ site.author.twitter_username }} on Twitter" target="_blank">
                  <i class="icon icon-social-twitter"></i>
                  <span class="label">Twitter</span>
                </a>
              </li>
            {% endif %}

            {% if site.author.facebook_username %}
              <!-- Facebook -->
              <li class="navigation__item">
                <a href="http://fb.me/{{ site.author.facebook_username }}" title="{{ site.author.facebook_username }} on Facebook" target="_blank">
                  <i class="icon icon-social-facebook"></i>
                  <span class="label">Facebook</span>
                </a>
              </li>
            {% endif %}

            {% if site.author.linkedin_username %}
              <!-- LinkedIn -->
              <li class="navigation__item">
                <a href="https://www.linkedin.com/in/{{ site.author.linkedin_username }}" title="{{ site.author.linkedin_username }} on LinkedIn" target="_blank">
                  <i class="icon icon-social-linkedin"></i>
                  <span class="label">LinkedIn</span>
                </a>
              </li>
            {% endif %}

            {% if site.author.github_username %}
              <!-- GitHub -->
              <li class="navigation__item">
                <a href="https://www.github.com/{{ site.author.github_username }}" title="{{ site.author.github_username }} on GitHub" target="_blank">
                  <i class="icon icon-social-github"></i>
                  <span class="label">GitHub</span>
                </a>
              </li>
            {% endif %}

            {% if site.author.youtube_channel_id %}
              <!-- YouTube -->
              <li class="navigation__item">
                <a href="https://www.youtube.com/channel/{{ site.author.youtube_channel_id }}" title="{{ site.author.youtube_channel_id }} on YouTube" target="_blank">
                  <i class="icon icon-social-youtube"></i>
                  <span class="label">YouTube</span>
                </a>
              </li>
            {% endif %}

            {% if site.author.email %}
              <!-- Email -->
              <li class="navigation__item">
                <a href="mailto:{{ site.author.email }}" title="Email" id="4g3bsfsafw">
                  <i class="icon icon-mail"></i>
                  <span class="label">Email</span>
                </a>
              </li>
            {% endif %}

            <!-- RSS -->
            {% if site.show_rss_link %}
            <li class="navigation__item">
              <a href="{{ "feed.xml" | prepend: site.baseurl }}" title="Subscribe" target="_blank">
                <i class="icon icon-rss"></i>
                <span class="label">RSS</span>
              </a>
            </li>
            {% endif %}
          
            </ul>
          </nav>

        </div>

      </div>

    </div>

    <!-- <div class="panel-cover--overlay"></div> -->
  </div>
</header>




<!-- Anit-spam bot security for email address -->
<script>
document.getElementById("4g3bsfsafw").href = document.getElementById("4g3bsfsafw").href.replace(new RegExp('x', 'g'), '').replace(new RegExp('!', 'g'), '@');
</script>



<!-- GLSL eyecandy: style for positioning canvas -->
<style>
canvas {
  width: 100%;
  height: 100%;
  position: absolute;
  top: 0;
  left: 0;
  z-index: -1;
}
</style>



<!-- GLSL eyecandy: vertex shader -->
<script id="vs" type="not-js">
void main()	{
  gl_Position = vec4( position, 1.0 );
}
</script>



<!-- GLSL eyecandy: pixel shader -->
<script id="fs-other" type="not-js">
precision mediump float;

uniform float time;
uniform vec2 mouse;
uniform vec2 resolution;

void main()	{

  vec2 position;
  position = (gl_FragCoord.xy / resolution.xy) + mouse / 5.0;
  position = (position * resolution.xy) / resolution.y;

  float t = time/2.0;
  float color = 0.0;
  color += sin(position.x * cos(t / 23.0) * 90.0) + cos(position.y * cos(t / 11.0) * 20.0);
  color -= sin(position.y * sin(t / 17.0) * 60.0) + cos(position.x * sin(t / 19.0) * 30.0);
  color += sin(position.x * sin(t / 11.0) * 30.0) + sin(position.y * sin(t / 34.0) * 50.0);
  color -= sin(position.x * sin(t /  7.0) * 15.0) + sin(position.y * sin(t / 48.0) * 90.0);
  color *= sin(t / 10.0) * 0.5;
  vec4 c = vec4(vec3(color, color * 0.7, sin(color + t / 2.0) * 0.9), 1.0);
  //c = vec4(c.b, c.r, c.g, 1.0);
  c = clamp(c, 0.0, 0.5);

  gl_FragColor = c;
}
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r74/three.min.js"></script>


<script id="fs-old" type="not-js">
#ifdef GL_ES
precision mediump float;
#endif

uniform float time;
uniform vec2 mouse;
uniform vec2 resolution;

void main( void ) {
	
	vec2 pos = ( gl_FragCoord.xy / resolution.xy ) - vec2(0.5,0.5);	

  pos.y = -pos.y;

        //float horizon = -0.3*cos(mouse.y*10.0/3.0); 
        float horizon = -0.3*mouse.y;

        float fov = 0.6;
	float scaling = 0.61;
	
	vec3 p = vec3(pos.x, fov, pos.y - horizon);
	//float a = -mouse.x*0.1*time;
	float a = 0.1*time;
	vec3 q = vec3(p.x*cos(a)+p.y*sin(a), p.x*sin(a)-p.y*cos(a),p.z);
	vec2 s = vec2(q.x/q.z, q.y/q.z) * scaling;

	//checkboard texture
	//float color = sign((mod(s.x, 0.1) - 0.05) * (mod(s.y, 0.1) - 0.05));	
	float color = sign((mod(s.x, 0.1) - 0.05));
  color += 2.0;
	//fading
	color *= p.z*p.z*(8.0+2.0*sin(time*3.));
	
	//gl_FragColor = vec4( color*vec3(1.0, s.x, s.y), 1.0 );
	gl_FragColor = vec4( color*vec3(s.x, s.y, s.y), 1.0 );
	gl_FragColor -= 0.2;
}
</script>
























<script id="fs" type="not-js">
#ifdef GL_ES
precision mediump float;
#endif

uniform float time;
uniform vec2 mouse;
uniform vec2 resolution;

const float pi = 3.14159265359;


#define texture(s, uv) vec4(0.0)
#define textureLod(s, uv, lod) vec4(0.0)

#define time (1000.0+(time*0.1))


// --------- [ original shadertoy ] ----------

#define width .005
float zoom = .18;
float shape=0.;
vec3 color=vec3(0.),randcol;


void formula(vec2 z, float c) {
  float timeRate = 5.0;

	float minit=0.;
	float o,ot2,ot=ot2=1000.;
	for (int i=0; i<9; i++) {
		z=abs(z)/clamp(dot(z,z),.1,.5)-c;
		float l=length(z);
		o=min(max(abs(min(z.x,z.y)),-l+.25),abs(l-.25));
		ot=min(ot,o);
		ot2=min(l*.1,ot2);
		minit=max(minit,float(i)*(1.-abs(sign(ot-o))));
	}
	minit+=1.;
	float w=width*minit*2.;
	float circ=pow(max(0.,w-ot2)/w,6.);
	shape+=max(pow(max(0.,w-ot)/w,.25),circ);
	vec3 col=normalize(.1+texture(iChannel1,vec2(minit*.1)).rgb);
	color+=col*(.4+mod(minit/9.-(time*timeRate)+ot2*2.,1.)*1.6);
	color+=vec3(1.,.7,.3)*circ*(10.-minit)*3.*smoothstep(0.,.5,.15+texture(iChannel0,vec2(.0,1.)).x-.5);
}

// --------[ Original ShaderToy ends here ]---------- //





void main( void ) {

	//vec2 isf_FragNormCoord = ( gl_FragCoord.xy / resolution.xy ) - vec2(0.5,0.5);
	vec2 isf_FragNormCoord = ( gl_FragCoord.xy / resolution.xy );
	//float a = 0.1*time;
	//gl_FragColor = vec4(final,1.0);

  vec4 fragCoord = gl_FragCoord;
  vec2 iResolution = resolution;

	vec2 pos = fragCoord.xy / iResolution.xy - .5;
	pos.x*=iResolution.x/iResolution.y;
	vec2 uv=pos;
	float sph = length(uv); sph = sqrt(1. - sph*sph)*1.5; // curve for spheric distortion
	uv=normalize(vec3(uv,sph)).xy;
	float a=time+mod(time,1.)*.5;
	vec2 luv=uv;
	float b=a*5.48535;

  // Move camera
	zoom*=1.+sin(time*3.758123)*.8;
  float rate = 0.2;
	uv*=mat2(cos(b*rate),sin(b*rate),-sin(b*rate),cos(b*rate));
	uv+=vec2(sin(a),cos(a*.5))*0.2;

	uv*=zoom;
	float pix=.5/iResolution.x*zoom/sph;
	float dof=max(1.,(10.-mod(time,1.)/.01));
	float c=1.5+mod(floor(time),6.)*.125;
	for (int aa=0; aa<36; aa++) {
		vec2 aauv=floor(vec2(float(aa)/6.,mod(float(aa),6.)));
		formula(uv+aauv*pix*dof,c);
	}
	shape/=36.; color/=36.;
	vec3 colo=mix(vec3(.15),color,shape)*(1.-length(pos))*min(1.,abs(.5-mod(time+.5,1.))*10.);
	colo*=vec3(1.2,1.1,1.0);
  colo *= 0.6;
	gl_FragColor = vec4(colo,1.0);
}
</script>







<!-- GLSL eyecandy: Three.js renderer -->
<script>
var $ = document.querySelector.bind(document);

var camera = new THREE.Camera();
camera.position.z = 1;

var scene = new THREE.Scene();

var geometry = new THREE.PlaneBufferGeometry(2, 2);

var uniforms = {
  time: { type: "f", value: 1.0 },
  resolution: { type: "v2", value: new THREE.Vector2() },
  mouse: { type: "v2", value: new THREE.Vector2() },
};

var material = new THREE.ShaderMaterial({
  uniforms: uniforms,
  vertexShader: $('#vs').text,
  fragmentShader: $('#fs').text,
});

var mesh = new THREE.Mesh(geometry, material);
scene.add(mesh);

var renderer = new THREE.WebGLRenderer();

var topElement = document.getElementById("topmost-layer");
topElement.insertBefore(renderer.domElement, topElement.firstChild);

document.body.addEventListener('mousemove', recordMousePosition);

render(0);

function recordMousePosition(e) {
  // normalize the mouse position across the canvas
  // so in the shader the values go from -1 to +1
  var canvas = renderer.domElement;
  var rect = canvas.getBoundingClientRect();

  uniforms.mouse.value.x = (e.clientX - rect.left) / canvas.clientWidth  *  2 - 1;
  uniforms.mouse.value.y = (e.clientY - rect.top ) / canvas.clientHeight * -2 + 1;
}

function resize() {
  var canvas = renderer.domElement;
  //var dpr    = window.devicePixelRatio;  // make 1 or less if too slow
  var dpr    = 0.5;
  var width  = canvas.clientWidth  * dpr;
  var height = canvas.clientHeight * dpr;

  if (width != canvas.width || height != canvas.height) {
    renderer.setSize( width, height, false );
    uniforms.resolution.value.x = renderer.domElement.width;
    uniforms.resolution.value.y = renderer.domElement.height;
  }
}

function render(time) {
  resize();
  uniforms.time.value = time * 0.001;
  renderer.render(scene, camera);
  requestAnimationFrame(render);
}
</script>
